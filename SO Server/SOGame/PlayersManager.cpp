#include "SOMain.h"
#include "SOPlayer.h"
#include "PlayersManager.h"

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	儅撩濠.
//	熱薑 橾濠	:	2002-10-07 螃 4:12:22 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
PlayersManager::PlayersManager()
{

}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	模資濠.
//	熱薑 橾濠	:	2002-10-07 螃 4:12:35 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
PlayersManager::~PlayersManager()
{
}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	蟾晦. ъ辨ж朝 譆渠 Ы溯檜橫曖 熱.
//	熱薑 橾濠	:	2002-10-07 螃 4:12:48 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
VOID	PlayersManager::Init( DWORD dwMaxPlayer )
{
	m_Player.Create( dwMaxPlayer );
}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	詭賅葬蒂 п薯и棻.
//	熱薑 橾濠	:	2002-10-07 螃 4:13:12 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
VOID	PlayersManager::Free()
{	
	m_Player.Release();
}


//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	Ы溯檜橫蒂 蹺陛и棻.
//	熱薑 橾濠	:	2002-10-07 螃 4:13:45 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
BOOL	PlayersManager::AddPlayer( SOPlayer *pPlayer )
{
	// 檜嘐 Ы溯檜橫陛 蹺陛腎歷朝雖 匐餌и棻.
	if( IsAddedPlayer( pPlayer ) == TRUE )					return	FALSE;

	// Ы溯檜橫蒂 蹺陛衛鑑棻.
	if( m_Player.Add( pPlayer ) == -1 )						return	FALSE;

	return	TRUE;
}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	Ы溯檜橫蒂 餉薯и棻.
//	熱薑 橾濠	:	2002-10-07 螃 4:14:48 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
BOOL	PlayersManager::RemovePlayer( SOPlayer *pPlayer )
{
	// Ы溯檜橫蒂 餉薯и棻.
	if( m_Player.DeleteType( pPlayer ) == -1 )			return	FALSE;

	return	TRUE;
}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	賅萇 Ы溯檜橫蒂 餉薯и棻.
//	熱薑 橾濠	:	2002-10-15 螃 2:48:30 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
VOID	PlayersManager::RemoveAllPlayer()
{
	m_Player.DeleteAll();
}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	Ы溯檜橫陛 蹺陛腎歷朝雖 憲嬴螞棻.
//	熱薑 橾濠	:	2002-10-07 螃 4:15:17 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
BOOL	PlayersManager::IsAddedPlayer( SOPlayer *pPlayer )
{
	SI32	i;

	for( i = 0; i < m_Player.m_NowUseDataCount; i++ )
	{
		if( m_Player.m_Data[ i ] == pPlayer )	return	TRUE;
	}

	return	FALSE;
}

//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	蹺陛腎橫 氈朝 Ы溯檜橫 葬蝶お蒂 橢橫螞棻.
//	熱薑 橾濠	:	2002-10-07 螃 4:15:59 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
SI32	PlayersManager::GetAddedPlayerList( UI16 *puiPlayerList )
{
	SI32	i;

	for( i = 0; i < m_Player.m_NowUseDataCount; i++ )
	{
		puiPlayerList[ i ] = m_Player.m_Data[ i ]->uiAccount;
	}

	return	m_Player.m_NowUseDataCount;	
}


//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	蹺陛腎橫 氈朝 Ы溯檜橫 葬蝶お蒂 橢橫螞棻.
//	熱薑 橾濠	:	2002-10-07 螃 4:16:55 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
SI32	PlayersManager::GetAddedPlayerList( SOPlayer **pPlayerList )
{
	SI32	i;

	for( i = 0; i < m_Player.m_NowUseDataCount; i++ )
	{
		pPlayerList[ i ] = m_Player.m_Data[ i ];
	}

	return	m_Player.m_NowUseDataCount;	
}


//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
//	撲貲		:	羅廓簞 Ы溯檜橫蒂 橢橫螞棻. 輿煎 詭衛雖蒂 爾頂輿晦 嬪и 偌羹煎 餌辨ж晦 嬪ж罹 餌辨и棻.
//	熱薑 橾濠	:	2002-10-08 螃 3:47:40 - 曄薑賅
//收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收收
SOPlayer*	PlayersManager::GetFirstPlayer()
{
	if( m_Player.m_NowUseDataCount < 1 )
	{
		return	NULL;
	}
	
	return	m_Player.m_Data[ 0 ];
}
